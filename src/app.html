<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
		<meta name="theme-color" content="#1e3a5f" media="(prefers-color-scheme: light)" />
		<meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<link rel="icon" href="/favicon.ico" sizes="any" />
		<link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32" />
		<link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16" />
		<link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="preconnect" href="https://auth.mrblu.com" />
		<link rel="dns-prefetch" href="https://auth.mrblu.com" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
			media="print"
			onload="this.media='all'"
		/>
		<noscript>
			<link
				href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
				rel="stylesheet"
			/>
		</noscript>
		<style>
			/* Critical CSS for LCP */
			.logo-text {
				font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
				font-size: 28px;
				font-weight: 800;
				color: #0066ff;
			}
			.navbar {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				z-index: 100;
			}
			.logo-link {
				text-decoration: none;
				display: block;
			}
		</style>
		<script>
			// Detect system preference and apply dark mode
			(function () {
				var savedTheme = localStorage.getItem('theme');
				var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

				if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
					document.documentElement.classList.add('dark');
				}

				window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
					if (!localStorage.getItem('theme')) {
						document.documentElement.classList.toggle('dark', e.matches);
					}
				});
			})();

			// Kill stale service workers from old PWA
			if ('serviceWorker' in navigator) {
				navigator.serviceWorker.getRegistrations().then(function(registrations) {
					for (var i = 0; i < registrations.length; i++) {
						registrations[i].unregister();
					}
				});
				if ('caches' in window) {
					caches.keys().then(function(names) {
						for (var i = 0; i < names.length; i++) {
							caches.delete(names[i]);
						}
					});
				}
			}
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
